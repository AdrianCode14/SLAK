{"openapi":"3.0.0","info":{"title":"SLAK API","version":"1.0.0"},"paths":{"/v1/admin/account/page/{page}":{"get":{"tags":["Account"],"security":[{"bearerAuth":[]}],"parameters":[{"name":"page","description":"the selected page","in":"path","required":true,"schema":{"type":"integer"}}],"responses":{"200":{"$ref":"#/components/responses/Account"},"400":{"description":"User invalid"},"401":{"description":"Token is invalid or user does not exist"},"403":{"description":"User is not admin"},"404":{"description":"JWT token header not found"},"5XX":{"description":"Unexpected server error"}}}},"/v1/admin/account/count":{"get":{"tags":["Account"],"security":[{"bearerAuth":[]}],"responses":{"200":{"$ref":"#/components/responses/AccountCount"},"400":{"description":"User invalid"},"401":{"description":"Token is invalid or user does not exist"},"403":{"description":"User is not admin"},"404":{"description":"JWT token header not found"},"5XX":{"description":"Unexpected server error"}}}},"/v1/admin/account/page-search/{page}":{"post":{"tags":["Account"],"security":[{"bearerAuth":[]}],"requestBody":{"$ref":"#/components/requestBodies/SearchQuery"},"parameters":[{"name":"page","description":"the selected page","in":"path","required":true,"schema":{"type":"integer"}}],"responses":{"200":{"$ref":"#/components/responses/Account"},"400":{"description":"User invalid"},"401":{"description":"Token is invalid or user does not exist"},"403":{"description":"User is not admin"},"404":{"description":"JWT token header not found"},"5XX":{"description":"Unexpected server error"}}}},"/v1/admin/account/count-search":{"post":{"tags":["Account"],"security":[{"bearerAuth":[]}],"requestBody":{"$ref":"#/components/requestBodies/SearchQuery"},"responses":{"200":{"$ref":"#/components/responses/AccountCount"},"400":{"description":"User invalid"},"401":{"description":"Token is invalid or user does not exist"},"403":{"description":"User is not admin"},"404":{"description":"JWT token header not found"},"5XX":{"description":"Unexpected server error"}}}},"/v1/admin/account":{"delete":{"tags":["Account"],"security":[{"bearerAuth":[]}],"requestBody":{"$ref":"#/components/requestBodies/AccountsToDelete"},"responses":{"200":{"description":"Account successfuly deleted"},"400":{"description":"User is invalid or the body passed is invalid"},"401":{"description":"Token is invalid or user does not exist"},"403":{"description":"User is not admin or the user tries to delete himself"},"404":{"description":"JWT token header not found"},"5XX":{"description":"Unexpected server error"}}},"post":{"tags":["Account"],"security":[{"bearerAuth":[]}],"requestBody":{"$ref":"#/components/requestBodies/AccountToCreate"},"responses":{"201":{"description":"Account successfuly created"},"400":{"description":"User is invalid or the body passed is invalid"},"401":{"description":"Token is invalid or user does not exist"},"403":{"description":"User is not admin"},"404":{"description":"JWT token header not found"},"409":{"description":"Account already exist"},"5XX":{"description":"Unexpected server error"}}},"patch":{"tags":["Account"],"security":[{"bearerAuth":[]}],"requestBody":{"$ref":"#/components/requestBodies/AccountToEdit"},"responses":{"200":{"description":"Account successfuly Edited"},"400":{"description":"User is invalid or the body passed is invalid"},"401":{"description":"Token is invalid or user does not exist"},"403":{"description":"User is not admin"},"404":{"description":"JWT token header not found"},"5XX":{"description":"Unexpected server error"}}}},"/v1/admin/affiliation/page/{page}":{"get":{"tags":["Affiliation"],"security":[{"bearerAuth":[]}],"parameters":[{"name":"page","description":"the selected page","in":"path","required":true,"schema":{"type":"integer"}}],"responses":{"200":{"$ref":"#/components/responses/Affiliation"},"400":{"description":"User invalid"},"401":{"description":"Token is invalid or user does not exist"},"403":{"description":"User is not admin"},"404":{"description":"JWT token header not found"},"5XX":{"description":"Unexpected server error"}}}},"/v1/admin/affiliation/count":{"get":{"tags":["Affiliation"],"security":[{"bearerAuth":[]}],"responses":{"200":{"$ref":"#/components/responses/AffiliationCount"},"400":{"description":"User invalid"},"401":{"description":"Token is invalid or user does not exist"},"403":{"description":"User is not admin"},"404":{"description":"JWT token header not found"},"5XX":{"description":"Unexpected server error"}}}},"/v1/admin/affiliation/page-search/{page}":{"post":{"tags":["Affiliation"],"security":[{"bearerAuth":[]}],"requestBody":{"$ref":"#/components/requestBodies/SearchQuery"},"parameters":[{"name":"page","description":"the selected page","in":"path","required":true,"schema":{"type":"integer"}}],"responses":{"200":{"$ref":"#/components/responses/Affiliation"},"400":{"description":"User invalid"},"401":{"description":"Token is invalid or user does not exist"},"403":{"description":"User is not admin"},"404":{"description":"JWT token header not found"},"5XX":{"description":"Unexpected server error"}}}},"/v1/admin/affiliation/count-search":{"post":{"tags":["Affiliation"],"security":[{"bearerAuth":[]}],"requestBody":{"$ref":"#/components/requestBodies/SearchQuery"},"responses":{"200":{"$ref":"#/components/responses/AffiliationCount"},"400":{"description":"User invalid"},"401":{"description":"Token is invalid or user does not exist"},"403":{"description":"User is not admin"},"404":{"description":"JWT token header not found"},"5XX":{"description":"Unexpected server error"}}}},"/v1/admin/affiliation":{"delete":{"tags":["Affiliation"],"security":[{"bearerAuth":[]}],"requestBody":{"$ref":"#/components/requestBodies/AffiliationsToDelete"},"responses":{"200":{"description":"Affiliation successfuly deleted"},"400":{"description":"User is invalid or the body passed is invalid"},"401":{"description":"Token is invalid or user does not exist"},"403":{"description":"User is not admin"},"404":{"description":"JWT token header not found"},"5XX":{"description":"Unexpected server error"}}},"post":{"tags":["Affiliation"],"security":[{"bearerAuth":[]}],"requestBody":{"$ref":"#/components/requestBodies/AffiliationToCreate"},"responses":{"201":{"description":"Affiliation successfuly created"},"400":{"description":"User is invalid or the body passed is invalid"},"401":{"description":"Token is invalid or user does not exist"},"403":{"description":"User is not admin"},"404":{"description":"JWT token header not found"},"409":{"description":"Affiliation already exist"},"5XX":{"description":"Unexpected server error"}}},"patch":{"tags":["Affiliation"],"security":[{"bearerAuth":[]}],"requestBody":{"$ref":"#/components/requestBodies/AffiliationToEdit"},"responses":{"200":{"description":"Affiliation successfuly Edited"},"400":{"description":"User is invalid or the body passed is invalid"},"401":{"description":"Token is invalid or user does not exist"},"403":{"description":"User is not admin"},"404":{"description":"JWT token header not found"},"5XX":{"description":"Unexpected server error"}}}},"/v1/admin/area/page/{page}":{"get":{"tags":["Area"],"security":[{"bearerAuth":[]}],"parameters":[{"name":"page","description":"the selected page","in":"path","required":true,"schema":{"type":"integer"}}],"responses":{"200":{"$ref":"#/components/responses/Area"},"400":{"description":"User invalid"},"401":{"description":"Token is invalid or user does not exist"},"403":{"description":"User is not admin"},"404":{"description":"JWT token header not found"},"5XX":{"description":"Unexpected server error"}}}},"/v1/admin/area/count":{"get":{"tags":["Area"],"security":[{"bearerAuth":[]}],"responses":{"200":{"$ref":"#/components/responses/AreaCount"},"400":{"description":"User invalid"},"401":{"description":"Token is invalid or user does not exist"},"403":{"description":"User is not admin"},"404":{"description":"JWT token header not found"},"5XX":{"description":"Unexpected server error"}}}},"/v1/admin/area/page-search/{page}":{"post":{"tags":["Area"],"security":[{"bearerAuth":[]}],"requestBody":{"$ref":"#/components/requestBodies/SearchQuery"},"parameters":[{"name":"page","description":"the selected page","in":"path","required":true,"schema":{"type":"integer"}}],"responses":{"200":{"$ref":"#/components/responses/Area"},"400":{"description":"User invalid"},"401":{"description":"Token is invalid or user does not exist"},"403":{"description":"User is not admin"},"404":{"description":"JWT token header not found"},"5XX":{"description":"Unexpected server error"}}}},"/v1/admin/area/count-search":{"post":{"tags":["Area"],"security":[{"bearerAuth":[]}],"requestBody":{"$ref":"#/components/requestBodies/SearchQuery"},"responses":{"200":{"$ref":"#/components/responses/AreaCount"},"400":{"description":"User invalid"},"401":{"description":"Token is invalid or user does not exist"},"403":{"description":"User is not admin"},"404":{"description":"JWT token header not found"},"5XX":{"description":"Unexpected server error"}}}},"/v1/admin/area":{"delete":{"tags":["Area"],"security":[{"bearerAuth":[]}],"requestBody":{"$ref":"#/components/requestBodies/AreasToDelete"},"responses":{"200":{"description":"Area successfuly deleted"},"400":{"description":"User is invalid or the body passed is invalid"},"401":{"description":"Token is invalid or user does not exist"},"403":{"description":"User is not admin"},"404":{"description":"JWT token header not found"},"5XX":{"description":"Unexpected server error"}}},"post":{"tags":["Area"],"security":[{"bearerAuth":[]}],"requestBody":{"$ref":"#/components/requestBodies/AreaToCreate"},"responses":{"201":{"description":"Area successfuly created"},"400":{"description":"User is invalid or the body passed is invalid"},"401":{"description":"Token is invalid or user does not exist"},"403":{"description":"User is not admin"},"404":{"description":"JWT token header not found"},"5XX":{"description":"Unexpected server error"}}},"patch":{"tags":["Area"],"security":[{"bearerAuth":[]}],"requestBody":{"$ref":"#/components/requestBodies/AreaToEdit"},"responses":{"200":{"description":"Area successfuly Edited"},"400":{"description":"User is invalid or the body passed is invalid"},"401":{"description":"Token is invalid or user does not exist"},"403":{"description":"User is not admin"},"404":{"description":"JWT token header not found"},"5XX":{"description":"Unexpected server error"}}}},"/v1/admin/garden/page/{page}":{"get":{"tags":["Garden"],"security":[{"bearerAuth":[]}],"parameters":[{"name":"page","description":"the selected page","in":"path","required":true,"schema":{"type":"integer"}}],"responses":{"200":{"$ref":"#/components/responses/Garden"},"400":{"description":"User invalid"},"401":{"description":"Token is invalid or user does not exist"},"403":{"description":"User is not admin"},"404":{"description":"JWT token header not found"},"5XX":{"description":"Unexpected server error"}}}},"/v1/admin/garden/count":{"get":{"tags":["Garden"],"security":[{"bearerAuth":[]}],"responses":{"200":{"$ref":"#/components/responses/GardenCount"},"400":{"description":"User invalid"},"401":{"description":"Token is invalid or user does not exist"},"403":{"description":"User is not admin"},"404":{"description":"JWT token header not found"},"5XX":{"description":"Unexpected server error"}}}},"/v1/admin/garden/page-search/{page}":{"post":{"tags":["Garden"],"security":[{"bearerAuth":[]}],"requestBody":{"$ref":"#/components/requestBodies/SearchQuery"},"parameters":[{"name":"page","description":"the selected page","in":"path","required":true,"schema":{"type":"integer"}}],"responses":{"200":{"$ref":"#/components/responses/Garden"},"400":{"description":"User invalid"},"401":{"description":"Token is invalid or user does not exist"},"403":{"description":"User is not admin"},"404":{"description":"JWT token header not found"},"5XX":{"description":"Unexpected server error"}}}},"/v1/admin/garden/count-search":{"post":{"tags":["Garden"],"security":[{"bearerAuth":[]}],"requestBody":{"$ref":"#/components/requestBodies/SearchQuery"},"responses":{"200":{"$ref":"#/components/responses/GardenCount"},"400":{"description":"User invalid"},"401":{"description":"Token is invalid or user does not exist"},"403":{"description":"User is not admin"},"404":{"description":"JWT token header not found"},"5XX":{"description":"Unexpected server error"}}}},"/v1/admin/garden":{"delete":{"tags":["Garden"],"security":[{"bearerAuth":[]}],"requestBody":{"$ref":"#/components/requestBodies/GardensToDelete"},"responses":{"200":{"description":"Garden successfuly deleted"},"400":{"description":"User is invalid or the body passed is invalid"},"401":{"description":"Token is invalid or user does not exist"},"403":{"description":"User is not admin"},"404":{"description":"JWT token header not found"},"5XX":{"description":"Unexpected server error"}}},"post":{"tags":["Garden"],"security":[{"bearerAuth":[]}],"requestBody":{"$ref":"#/components/requestBodies/GardenToCreate"},"responses":{"201":{"description":"Garden successfuly created"},"400":{"description":"User is invalid or the body passed is invalid"},"401":{"description":"Token is invalid or user does not exist"},"403":{"description":"User is not admin"},"404":{"description":"JWT token header not found"},"5XX":{"description":"Unexpected server error"}}},"patch":{"tags":["Garden"],"security":[{"bearerAuth":[]}],"requestBody":{"$ref":"#/components/requestBodies/GardenToEdit"},"responses":{"200":{"description":"Garden successfuly Edited"},"400":{"description":"User is invalid or the body passed is invalid"},"401":{"description":"Token is invalid or user does not exist"},"403":{"description":"User is not admin"},"404":{"description":"JWT token header not found"},"5XX":{"description":"Unexpected server error"}}}},"/v1/admin/task/page/{page}":{"get":{"tags":["Task"],"security":[{"bearerAuth":[]}],"parameters":[{"name":"page","description":"the selected page","in":"path","required":true,"schema":{"type":"integer"}}],"responses":{"200":{"$ref":"#/components/responses/Task"},"400":{"description":"User invalid"},"401":{"description":"Token is invalid or user does not exist"},"403":{"description":"User is not admin"},"404":{"description":"JWT token header not found"},"5XX":{"description":"Unexpected server error"}}}},"/v1/admin/task/count":{"get":{"tags":["Task"],"security":[{"bearerAuth":[]}],"responses":{"200":{"$ref":"#/components/responses/TaskCount"},"400":{"description":"User invalid"},"401":{"description":"Token is invalid or user does not exist"},"403":{"description":"User is not admin"},"404":{"description":"JWT token header not found"},"5XX":{"description":"Unexpected server error"}}}},"/v1/admin/task/page-search/{page}":{"post":{"tags":["Task"],"security":[{"bearerAuth":[]}],"requestBody":{"$ref":"#/components/requestBodies/SearchQuery"},"parameters":[{"name":"page","description":"the selected page","in":"path","required":true,"schema":{"type":"integer"}}],"responses":{"200":{"$ref":"#/components/responses/Task"},"400":{"description":"User invalid"},"401":{"description":"Token is invalid or user does not exist"},"403":{"description":"User is not admin"},"404":{"description":"JWT token header not found"},"5XX":{"description":"Unexpected server error"}}}},"/v1/admin/task/count-search":{"post":{"tags":["Task"],"security":[{"bearerAuth":[]}],"requestBody":{"$ref":"#/components/requestBodies/SearchQuery"},"responses":{"200":{"$ref":"#/components/responses/TaskCount"},"400":{"description":"User invalid"},"401":{"description":"Token is invalid or user does not exist"},"403":{"description":"User is not admin"},"404":{"description":"JWT token header not found"},"5XX":{"description":"Unexpected server error"}}}},"/v1/admin/task":{"delete":{"tags":["Task"],"security":[{"bearerAuth":[]}],"requestBody":{"$ref":"#/components/requestBodies/TasksToDelete"},"responses":{"200":{"description":"Task successfuly deleted"},"400":{"description":"User is invalid or the body passed is invalid"},"401":{"description":"Token is invalid or user does not exist"},"403":{"description":"User is not admin"},"404":{"description":"JWT token header not found"},"5XX":{"description":"Unexpected server error"}}},"post":{"tags":["Task"],"security":[{"bearerAuth":[]}],"requestBody":{"$ref":"#/components/requestBodies/TaskToCreate"},"responses":{"201":{"description":"Task successfuly created"},"400":{"description":"User is invalid or the body passed is invalid"},"401":{"description":"Token is invalid or user does not exist"},"403":{"description":"User is not admin"},"404":{"description":"JWT token header not found"},"5XX":{"description":"Unexpected server error"}}},"patch":{"tags":["Task"],"security":[{"bearerAuth":[]}],"requestBody":{"$ref":"#/components/requestBodies/TaskToEdit"},"responses":{"200":{"description":"Task successfuly Edited"},"400":{"description":"User is invalid or the body passed is invalid"},"401":{"description":"Token is invalid or user does not exist"},"403":{"description":"User is not admin"},"404":{"description":"JWT token header not found"},"5XX":{"description":"Unexpected server error"}}}}},"components":{"responses":{"Account":{"description":"A page containing X accounts","content":{"application/json":{"schema":{"properties":{"email":{"type":"string","format":"email"},"name":{"type":"string"},"first_name":{"type":"string"},"is_admin":{"type":"boolean"}}}}}},"AccountCount":{"description":"The number of accounts in the table","content":{"application/json":{"schema":{"type":"integer"}}}},"Affiliation":{"description":"A page containing X affiliation","content":{"application/json":{"schema":{"properties":{"garden_id":{"type":"integer"},"user_id":{"type":"string","format":"email"},"role":{"type":"string","enum":["affiliate","admin"]},"join_date":{"type":"string","format":"date-time"}}}}}},"AffiliationCount":{"description":"The number of affiliations in the table","content":{"application/json":{"schema":{"type":"integer"}}}},"Area":{"description":"A page containing X areas","content":{"application/json":{"schema":{"properties":{"id":{"type":"integer"},"garden_id":{"type":"integer"},"area_index":{"type":"integer"},"name":{"type":"string"},"description":{"type":"string"}}}}}},"AreaCount":{"description":"The number of areas in the table","content":{"application/json":{"schema":{"type":"integer"}}}},"Garden":{"description":"A page containing X gardens","content":{"application/json":{"schema":{"properties":{"id":{"type":"integer"},"name":{"type":"string"},"address":{"type":"string","format":"address","example":"Rue du Condroz 43,#Namur 5000#Belgique"},"date":{"type":"string","format":"date-time"},"plan":{"$ref":"#/components/schemas/PlanJson"}}}}}},"GardenCount":{"description":"The number of gardens in the table","content":{"application/json":{"schema":{"type":"integer"}}}},"Task":{"description":"A page containing X tasks","content":{"application/json":{"schema":{"properties":{"id":{"type":"integer"},"area_id":{"type":"integer"},"title":{"type":"string"},"start_date":{"type":"string","format":"date-string"},"deadline":{"type":"string","format":"date-string"},"validated":{"type":"boolean"},"description":{"type":"string"}}}}}},"TaskCount":{"description":"The number of tasks in the table","content":{"application/json":{"schema":{"type":"integer"}}}}},"requestBodies":{"AccountsToDelete":{"description":"An Array containing all the accounts to delete","content":{"application/json":{"schema":{"type":"array","items":{"type":"object","properties":{"email":{"type":"string","format":"email"}},"required":["email"]}}}}},"AccountToCreate":{"description":"An object describing the account to create","content":{"application/json":{"schema":{"type":"object","properties":{"email":{"type":"string","format":"email"},"password":{"type":"string"},"name":{"type":"string"},"first_name":{"type":"string"},"is_admin":{"type":"boolean"}},"required":["email","password","name","first_name","is_admin"]}}}},"AccountToEdit":{"description":"An object describing the account to edit","content":{"application/json":{"schema":{"type":"object","properties":{"email":{"type":"string","format":"email"},"name":{"type":"string"},"first_name":{"type":"string"},"is_admin":{"type":"boolean"}},"required":["email","name","first_name","is_admin"]}}}},"SearchQuery":{"description":"An object representing a query","content":{"application/json":{"schema":{"type":"object","properties":{"query":{"type":"string"}}}}}},"AffiliationsToDelete":{"description":"An Array containing all the affiliations to delete","content":{"application/json":{"schema":{"type":"array","items":{"type":"object","properties":{"garden_id":{"type":"integer"},"user_id":{"type":"string","format":"email"}},"required":["garden_id","user_id"]}}}}},"AffiliationToCreate":{"description":"An object describing the affiliation to create","content":{"application/json":{"schema":{"type":"object","properties":{"garden_id":{"type":"integer"},"user_id":{"type":"string","format":"email"}},"required":["garden_id","user_id"]}}}},"AffiliationToEdit":{"description":"An object describing the affiliation to edit","content":{"application/json":{"schema":{"type":"object","properties":{"garden_id":{"type":"integer"},"user_id":{"type":"string","format":"email"},"join_date":{"type":"string","format":"date-time"}},"required":["garden_id","user_id","join_date"]}}}},"AreasToDelete":{"description":"An Array containing all the areas to delete","content":{"application/json":{"schema":{"type":"array","items":{"type":"object","properties":{"id":{"type":"integer"}},"required":["id"]}}}}},"AreaToCreate":{"description":"An object describing the area to create","content":{"application/json":{"schema":{"type":"object","properties":{"garden_id":{"type":"integer"},"area_index":{"type":"integer"},"name":{"type":"string"},"description":{"type":"string"}},"required":["garden_id","area_index","name","description"]}}}},"AreaToEdit":{"description":"An object describing the area to edit","content":{"application/json":{"schema":{"type":"object","properties":{"id":{"type":"integer"},"area_index":{"type":"integer"},"name":{"type":"string"},"description":{"type":"string"}},"required":["id","area_index","name","description"]}}}},"GardensToDelete":{"description":"An Array containing all the gardens to delete","content":{"application/json":{"schema":{"type":"array","items":{"type":"object","properties":{"id":{"type":"integer"}},"required":["id"]}}}}},"GardenToCreate":{"description":"An object describing the garden to create","content":{"application/json":{"schema":{"type":"object","properties":{"name":{"type":"string"},"address":{"type":"string","format":"address","example":"Rue du Condroz 43,#Namur 5000#Belgique"},"plan":{"$ref":"#/components/schemas/PlanJson"}},"required":["name","address","plan"]}}}},"GardenToEdit":{"description":"An object describing the garden to edit","content":{"application/json":{"schema":{"type":"object","properties":{"id":{"type":"integer"},"name":{"type":"string"},"address":{"type":"string","format":"address","example":"Rue du Condroz 43,#Namur 5000#Belgique"},"date":{"type":"string","format":"date-time"},"plan":{"$ref":"#/components/schemas/PlanJson"}},"required":["id","name","address","date","plan"]}}}},"TasksToDelete":{"description":"An Array containing all the tasks to delete","content":{"application/json":{"schema":{"type":"array","items":{"type":"object","properties":{"id":{"type":"integer"}},"required":["id"]}}}}},"TaskToCreate":{"description":"An object describing the tasj to create","content":{"application/json":{"schema":{"type":"object","properties":{"area_id":{"type":"integer"},"title":{"type":"string"},"start_date":{"type":"string","format":"date-string"},"deadline":{"type":"string","format":"date-string"},"description":{"type":"string"}},"required":["area_id","title","start_date","deadline","description"]}}}},"TaskToEdit":{"description":"An object describing the task to edit","content":{"application/json":{"schema":{"type":"object","properties":{"id":{"type":"integer"},"area_id":{"type":"integer"},"title":{"type":"string"},"start_date":{"type":"string","format":"date-string"},"deadline":{"type":"string","format":"date-string"},"validated":{"type":"boolean"},"description":{"type":"string"}},"required":["id","area_id","title","start_date","deadline","validated","description"]}}}}},"schemas":{"PlanJson":{"type":"string","format":"json","example":"{\"meta\": {\"sizeX\": 1,\"sizeY\": 1},\"content\": [[null]]}"}},"securitySchemes":{"bearerAuth":{"type":"http","scheme":"bearer","bearerFormat":"JWT"}}},"tags":[]}